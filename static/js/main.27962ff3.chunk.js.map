{"version":3,"sources":["Components/PatientInfo/PatientInfo.jsx","actions/actions.js","Components/PatientItem/PatientItem.jsx","Components/PatientList/PatientList.jsx","settings.js","Components/ListArea/ListArea.jsx","Components/ListArea/downloadPatientLists.js","App.jsx","reducers/index.js","store/configureStore.js","index.jsx"],"names":["getAge","PatientBirthdate","today","Date","age","getFullYear","mParameter","getMonth","getDate","PatientInfo","useSelector","state","selectedPatient","isPatientSelected","className","firstName","birthDate","diagnosis","ACTION_NAMES","patientListFetchSuccess","data","division","type","payload","PatientItem","patientData","storePatientData","patient","dispatch","useDispatch","JSON","stringify","onClick","Container","Row","Col","historyNumber","PatientList","patientList","map","LISTS_DIVISIONS","ListArea","error","useEffect","a","axios","get","process","presentListResponse","quittingListResponse","id","name","defaultChecked","htmlFor","presentListIsLoaded","present","length","quittingListIsLoaded","quitting","message","App","fluid","xs","md","initialState","store","createStore","action","applyMiddleware","thunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.27962ff3.chunk.js","sourcesContent":["/* eslint-disable no-plusplus */\nimport React from 'react';\nimport './PatientInfo.sass';\nimport { useSelector } from 'react-redux';\n\nfunction getAge(PatientBirthdate) {\n  const today = new Date();\n  let age = today.getFullYear() - PatientBirthdate.getFullYear();\n  const mParameter = today.getMonth() - PatientBirthdate.getMonth();\n  if (mParameter < 0 || (mParameter === 0 && today.getDate() < PatientBirthdate.getDate())) {\n    age--;\n  }\n  return age;\n}\n\nfunction PatientInfo() {\n  const { selectedPatient, isPatientSelected } = useSelector((state) => state);\n  return (\n    <div className=\"patientInfo\">\n      <div className=\"infoTitle\">\n        Информация о пациенте\n      </div>\n      <div className=\"infoArea\">\n        <div className=\"directionRow\">\n          <div className=\"infoParameter\">ФИО</div>\n          <div className=\"infoValue\">\n            {(isPatientSelected === true)\n              ? selectedPatient.firstName\n              : ''}\n          </div>\n        </div>\n        <div className=\"directionRow\">\n          <div className=\"infoParameter\">Возраст</div>\n          <div className=\"infoValue\">\n            {(isPatientSelected === true)\n              ? getAge(new Date(selectedPatient.birthDate))\n              : ''}\n          </div>\n        </div>\n        <div className=\"directionRow\">\n          <div className=\"infoParameter\">Диагноз</div>\n          <div className=\"infoValue\">\n            {(isPatientSelected === true)\n              ? selectedPatient.diagnosis\n              : ''}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PatientInfo;\n","export const ACTION_NAMES = {\n  PATIENT_LISTS_FETCH_SUCCESS: 'PATIENT_LISTS_FETCH_SUCCESS',\n  PATIENT_LISTS_FETCH_FAIL: 'PATIENT_LISTS_FETCH_FAIL',\n  SELECT_PATIENT: 'SELECT_PATIENT',\n};\n\nexport const patientListFetchSuccess = (data, division) => ({\n  type: ACTION_NAMES.PATIENT_LISTS_FETCH_SUCCESS,\n  payload: data,\n  division,\n});\n\nexport const patientListFetchFail = (error) => ({\n  type: ACTION_NAMES.PATIENT_LISTS_FETCH_FAIL,\n  payload: error,\n});\n\nexport const selectPatient = (data) => ({\n  type: ACTION_NAMES.SELECT_PATIENT,\n  payload: data,\n});\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-noninteractive-element-interactions */\nimport React from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport './PatientItem.sass';\nimport PropTypes from 'prop-types';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectPatient } from '../../actions/actions';\n\nfunction isPatientSelected(patientData, storePatientData) {\n  return (JSON.stringify(patientData) === JSON.stringify(storePatientData));\n}\n\nfunction PatientItem({ patient }) {\n  const dispatch = useDispatch();\n  const { selectedPatient } = useSelector((state) => state);\n  return (\n    <li\n      className={(isPatientSelected(patient, selectedPatient))\n        ? 'selected'\n        : 'casual'}\n      onClick={() => { dispatch(selectPatient(patient)); }}\n    >\n      <div className=\"listHover\">\n        <Container>\n          <Row>\n            <Col>\n              {patient.historyNumber}\n            </Col>\n            <Col>\n              {patient.firstName}\n            </Col>\n            <Col>\n              {patient.diagnosis}\n            </Col>\n          </Row>\n        </Container>\n      </div>\n\n    </li>\n  );\n}\n\nPatientItem.propTypes = {\n  patient: PropTypes.shape({\n    historyNumber: PropTypes.number,\n    firstName: PropTypes.string,\n    lastName: PropTypes.string,\n    patrName: PropTypes.string,\n    birthDate: PropTypes.string,\n    diagnosis: PropTypes.string,\n    bedNumber: PropTypes.number,\n  }).isRequired,\n};\n\nexport default PatientItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PatientItem from '../PatientItem/PatientItem';\n\nexport default function PatientList({ patientList, division }) {\n  return (\n    <ul>\n      {patientList.map((patient) => (\n        <PatientItem\n          patient={patient}\n          key={division + patient.historyNumber}\n        />\n      ))}\n    </ul>\n  );\n}\n\nPatientList.propTypes = {\n  patientList: PropTypes.arrayOf(PropTypes.shape({\n    historyNumber: PropTypes.number,\n    firstName: PropTypes.string,\n    lastName: PropTypes.string,\n    patrName: PropTypes.string,\n    birthDate: PropTypes.string,\n    diagnosis: PropTypes.string,\n    bedNumber: PropTypes.number,\n  })).isRequired,\n  division: PropTypes.string.isRequired,\n};\n","export const LISTS_DIVISIONS = {\n  PRESENT_LIST: 'PRESENT_LIST',\n  QUITTING_LIST: 'QUITTING_LIST',\n};\n\nexport const { REACT_APP_PRESENT_LIST_JSON_URL } = process.env;\n\nexport const { REACT_APP_QUITTING_LIST_JSON_URL } = process.env;\n","/* eslint-disable react/jsx-filename-extension */\nimport React, { useEffect } from 'react';\nimport './ListArea.sass';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PatientList from '../PatientList/PatientList';\nimport downloadPatientLists from './downloadPatientLists';\n\nfunction ListArea() {\n  const { patientList, error } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  useEffect(() => { dispatch(downloadPatientLists()); }, []);\n  if (error === null) {\n    return (\n      <div className=\"patientsList\">\n        <div className=\"listNav\">\n          <input type=\"radio\" id=\"tab-btn-1\" name=\"listNav\" defaultChecked />\n          <label htmlFor=\"tab-btn-1\">\n            <div className=\"navButton\">\n              ПРИСУТСТВУЮТ(\n              {(patientList.presentListIsLoaded === true)\n                ? patientList.present.length\n                : '0'}\n              )\n            </div>\n          </label>\n          <input type=\"radio\" id=\"tab-btn-2\" name=\"listNav\" />\n          <label htmlFor=\"tab-btn-2\">\n            <div className=\"navButton\">\n              ВЫБЫВШИЕ(\n              {(patientList.quittingListIsLoaded === true)\n                ? patientList.quitting.length\n                : '0'}\n\n              )\n            </div>\n          </label>\n          <div className=\"listColumns\">\n            <Container>\n              <Row>\n                <Col>\n                  №ИБ\n                </Col>\n                <Col>\n                  ФИО\n                </Col>\n                <Col>\n                  Диагноз\n                </Col>\n              </Row>\n            </Container>\n          </div>\n          <div id=\"present\" className=\"scrollable\">\n            {(patientList.presentListIsLoaded === true)\n              ? <PatientList patientList={patientList.present} division=\"PRESENT_LIST\" />\n              : <div>Загрузка, подождите пожалуйста</div>}\n\n          </div>\n          <div id=\"quitting\" className=\"scrollable\">\n            {(patientList.presentListIsLoaded === true)\n              ? <PatientList patientList={patientList.quitting} division=\"QUITTING_LIST\" />\n              : <div>Загрузка, подождите пожалуйста</div>}\n\n          </div>\n        </div>\n      </div>\n\n    );\n  }\n  return (\n    <div className=\"patientsList\">\n      {error.message}\n    </div>\n  );\n}\n\nexport default ListArea;\n","import axios from 'axios';\nimport { patientListFetchSuccess, patientListFetchFail } from '../../actions/actions';\nimport { LISTS_DIVISIONS, REACT_APP_PRESENT_LIST_JSON_URL, REACT_APP_QUITTING_LIST_JSON_URL } from '../../settings';\n\nexport default function downloadPatientLists() {\n  return async (dispatch) => {\n    try {\n      const presentListResponse = await axios.get(REACT_APP_PRESENT_LIST_JSON_URL);\n      dispatch(patientListFetchSuccess(presentListResponse.data, LISTS_DIVISIONS.PRESENT_LIST));\n      const quittingListResponse = await axios.get(REACT_APP_QUITTING_LIST_JSON_URL);\n      dispatch(patientListFetchSuccess(quittingListResponse.data, LISTS_DIVISIONS.QUITTING_LIST));\n    } catch (error) {\n      dispatch(patientListFetchFail(error));\n    }\n  };\n}\n","import './App.sass';\nimport React from 'react';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport PatientInfo from './Components/PatientInfo/PatientInfo';\nimport ListArea from './Components/ListArea/ListArea';\n\nfunction App() {\n  return (\n    <div>\n      <Container fluid>\n        <Row>\n          <Col xs={12} md={6}>\n            <PatientInfo />\n          </Col>\n          <Col xs={12} md={6}>\n            <ListArea />\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","import { ACTION_NAMES } from '../actions/actions';\nimport { LISTS_DIVISIONS } from '../settings';\n\nexport const initialState = {\n  patientList: {\n    quitting: [],\n    quittingListIsLoaded: false,\n    present: [],\n    presentListIsLoaded: false,\n  },\n  selectedPatient: {},\n  isPatientSelected: false,\n  error: null,\n};\n\nexport function rootReducer(state = initialState, action) {\n  switch (action.type) {\n    case ACTION_NAMES.PATIENT_LISTS_FETCH_SUCCESS:\n      switch (action.division) {\n        case LISTS_DIVISIONS.PRESENT_LIST:\n          return {\n            ...state,\n            patientList: {\n              ...state.patientList,\n              present: action.payload,\n              presentListIsLoaded: true,\n            },\n          };\n        case LISTS_DIVISIONS.QUITTING_LIST:\n          return {\n            ...state,\n            patientList: {\n              ...state.patientList,\n              quitting: action.payload,\n              quittingListIsLoaded: true,\n            },\n          };\n        default:\n          return state;\n      }\n    case ACTION_NAMES.PATIENT_LISTS_FETCH_FAIL:\n      return {\n        ...state,\n        error: action.payload,\n      };\n    case ACTION_NAMES.SELECT_PATIENT:\n      return {\n        ...state,\n        selectedPatient: {\n          ...action.payload,\n        },\n        isPatientSelected: true,\n      };\n    default:\n      return state;\n  }\n}\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from '../reducers';\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk),\n);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.sass';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './store/configureStore';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}