(this.webpackJsonpvistapatientsapp=this.webpackJsonpvistapatientsapp||[]).push([[0],{34:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(0),s=a.n(i),c=a(11),r=a.n(c),l=(a(34),a(6)),d=(a(41),a(65)),j=a(66),o=a(67);a(42);function b(e){var t=new Date,a=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth();return(n<0||0===n&&t.getDate()<e.getDate())&&a--,a}var u=function(){var e=Object(l.c)((function(e){return e})),t=e.selectedPatient,a=e.isPatientSelected;return Object(n.jsxs)("div",{className:"patientInfo",children:[Object(n.jsx)("div",{className:"infoTitle",children:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u0430\u0446\u0438\u0435\u043d\u0442\u0435"}),Object(n.jsxs)("div",{className:"infoArea",children:[Object(n.jsxs)("div",{className:"directionRow",children:[Object(n.jsx)("div",{className:"infoParameter",children:"\u0424\u0418\u041e"}),Object(n.jsx)("div",{className:"infoValue",children:!0===a?t.firstName:""})]}),Object(n.jsxs)("div",{className:"directionRow",children:[Object(n.jsx)("div",{className:"infoParameter",children:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442"}),Object(n.jsx)("div",{className:"infoValue",children:!0===a?b(new Date(t.birthDate)):""})]}),Object(n.jsxs)("div",{className:"directionRow",children:[Object(n.jsx)("div",{className:"infoParameter",children:"\u0414\u0438\u0430\u0433\u043d\u043e\u0437"}),Object(n.jsx)("div",{className:"infoValue",children:!0===a?t.diagnosis:""})]})]})]})},O=(a(43),a(44),"QUITTING_LIST_FETCH_SUCCESS"),p="QUITTING_LIST_FETCH_FAIL",h="PRESENT_LIST_FETCH_SUCCESS",x="PRESENT_LIST_FETCH_FAIL",v="SELECT_PATIENT";var f=function(e){var t,a,i=e.patient,s=Object(l.b)(),c=Object(l.c)((function(e){return e})).selectedPatient;return Object(n.jsx)("li",{className:(t=i,a=c,JSON.stringify(t)===JSON.stringify(a)?"selected":"casual"),onClick:function(){s({type:v,payload:i})},children:Object(n.jsx)("div",{className:"listHover",children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(o.a,{children:i.historyNumber}),Object(n.jsx)(o.a,{children:i.firstName}),Object(n.jsx)(o.a,{children:i.diagnosis})]})})})})};function m(e){var t=e.patientList,a=e.division;return Object(n.jsx)("ul",{children:t.map((function(e){return Object(n.jsx)(f,{patient:e},a+e.historyNumber)}))})}var L=a(9),N=a.n(L),g=a(12),y=a(13),I=a.n(y);var T=function(){var e=Object(l.c)((function(e){return e})),t=e.patientList,a=e.error,s=Object(l.b)();return Object(i.useEffect)((function(){var e,t;s((e="https://lnsxx.github.io/patientlists/data/presentList.json",function(){var t=Object(g.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,I.a.get(e);case 3:n=t.sent,a((s=n.data,{type:h,payload:s})),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),a((i=t.t0,{type:x,payload:i}));case 10:case"end":return t.stop()}var i,s}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),s((t="https://lnsxx.github.io/patientlists/data/quittingList.json",function(){var e=Object(g.a)(N.a.mark((function e(a){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.a.get(t);case 3:n=e.sent,a((s=n.data,{type:O,payload:s})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),a((i=e.t0,{type:p,payload:i}));case 10:case"end":return e.stop()}var i,s}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[]),null===a?Object(n.jsx)("div",{className:"patientsList",children:Object(n.jsxs)("div",{className:"listNav",children:[Object(n.jsx)("input",{type:"radio",id:"tab-btn-1",name:"listNav",defaultChecked:!0}),Object(n.jsx)("label",{htmlFor:"tab-btn-1",children:Object(n.jsxs)("div",{className:"navButton",children:["\u041f\u0420\u0418\u0421\u0423\u0422\u0421\u0422\u0412\u0423\u042e\u0422(",!0===t.presentListIsLoaded?t.present.length:"0",")"]})}),Object(n.jsx)("input",{type:"radio",id:"tab-btn-2",name:"listNav"}),Object(n.jsx)("label",{htmlFor:"tab-btn-2",children:Object(n.jsxs)("div",{className:"navButton",children:["\u0412\u042b\u0411\u042b\u0412\u0428\u0418\u0415(",!0===t.quittingListIsLoaded?t.quitting.length:"0",")"]})}),Object(n.jsx)("div",{className:"listColumns",children:Object(n.jsx)(d.a,{children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(o.a,{children:"\u2116\u0418\u0411"}),Object(n.jsx)(o.a,{children:"\u0424\u0418\u041e"}),Object(n.jsx)(o.a,{children:"\u0414\u0438\u0430\u0433\u043d\u043e\u0437"})]})})}),Object(n.jsx)("div",{id:"present",className:"scrollable",children:!0===t.presentListIsLoaded?Object(n.jsx)(m,{patientList:t.present,division:"PRESENT_LIST"}):Object(n.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430"})}),Object(n.jsx)("div",{id:"quitting",className:"scrollable",children:!0===t.presentListIsLoaded?Object(n.jsx)(m,{patientList:t.quitting,division:"QUITTING_LIST"}):Object(n.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435 \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430"})})]})}):Object(n.jsx)("div",{className:"patientsList",children:a.message})};var S=function(){return Object(n.jsx)("div",{children:Object(n.jsx)(d.a,{fluid:!0,children:Object(n.jsxs)(j.a,{children:[Object(n.jsx)(o.a,{xs:12,md:6,children:Object(n.jsx)(u,{})}),Object(n.jsx)(o.a,{xs:12,md:6,children:Object(n.jsx)(T,{})})]})})})},E=a(10),_=a(28),P=a(3),w={patientList:{quitting:[],quittingListIsLoaded:!1,present:[],presentListIsLoaded:!1},selectedPatient:{},isPatientSelected:!1,error:null};var C=Object(E.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(P.a)(Object(P.a)({},e),{},{patientList:Object(P.a)(Object(P.a)({},e.patientList),{},{present:t.payload,presentListIsLoaded:!0})});case x:return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});case O:return Object(P.a)(Object(P.a)({},e),{},{patientList:Object(P.a)(Object(P.a)({},e.patientList),{},{quitting:t.payload,quittingListIsLoaded:!0})});case p:return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});case v:return Object(P.a)(Object(P.a)({},e),{},{selectedPatient:Object(P.a)({},t.payload),isPatientSelected:!0});default:return e}}),Object(E.a)(_.a));r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(l.a,{store:C,children:Object(n.jsx)(S,{})})}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.6c9ad3bf.chunk.js.map